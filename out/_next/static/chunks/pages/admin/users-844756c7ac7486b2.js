(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9635],{5408:function(e,t,r){"use strict";var n=r(7294),s=r(1163),a=r(6262),i=r(8344),l=r(1664),o=r.n(l),c=r(6501),d=r(5893);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.Z=function(e){var t,r=e.children,l=(0,s.useRouter)(),x=(0,a.a)(),m=x.user,f=x.logout,h=x.loading,p=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,c=!1;try{for(a=(r=r.call(e)).next;!(o=(n=a.call(r)).done)&&(l.push(n.value),2!==l.length);o=!0);}catch(e){c=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=p[0],y=p[1];(0,n.useEffect)(function(){h||null!=m&&m.isAdmin||(c.ZP.error("You don't have permission to access this page."),l.push("/login"))},[m,h,l]);var j=[{name:"Dashboard",icon:(0,d.jsx)(i.P31,{}),href:"/admin/dashboard"},{name:"Products",icon:(0,d.jsx)(i.AFA,{}),href:"/admin/products"},{name:"Stores",icon:(0,d.jsx)(i.KSn,{}),href:"/admin/stores"},{name:"Categories",icon:(0,d.jsx)(i.YxP,{}),href:"/admin/categories"},{name:"Users",icon:(0,d.jsx)(i.I$,{}),href:"/admin/users"},{name:"Captains",icon:(0,d.jsx)(i.KE5,{}),href:"/admin/captains"},{name:"Settings",icon:(0,d.jsx)(i.p4t,{}),href:"/admin/settings"}],b=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-20 flex items-center justify-center text-2xl font-bold text-white border-b border-gray-800",children:"Admin"}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-8",children:(0,d.jsx)("ul",{children:j.map(function(e){return(0,d.jsx)("li",{className:"mb-2",children:(0,d.jsx)(o(),{href:e.href,children:(0,d.jsxs)("a",{className:"flex items-center p-3 rounded-lg transition-colors ".concat(l.pathname===e.href?"bg-indigo-600 text-white":"hover:bg-gray-800"),children:[(0,d.jsx)("span",{className:"mr-4 text-lg",children:e.icon}),e.name]})})},e.name)})})}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,d.jsxs)("button",{onClick:f,className:"w-full flex items-center p-3 rounded-lg text-left hover:bg-red-800 transition-colors",children:[(0,d.jsx)(i.fHX,{className:"mr-4"})," Logout"]})})]})};return h||!(null!=m&&m.isAdmin)?(0,d.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:(0,d.jsx)("p",{className:"text-gray-600",children:"Verifying access..."})}):(0,d.jsxs)("div",{className:"flex h-screen bg-gray-50 font-sans",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-900 text-gray-200 flex flex-col z-50 transition-transform transform ".concat(g?"translate-x-0":"-translate-x-full"," md:hidden"),children:(0,d.jsx)(b,{})}),(0,d.jsx)("aside",{className:"w-64 bg-gray-900 text-gray-200 flex-col hidden md:flex",children:(0,d.jsx)(b,{})}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,d.jsxs)("header",{className:"h-20 bg-white shadow-sm flex items-center justify-between px-4 md:px-8 border-b",children:[(0,d.jsx)("button",{className:"md:hidden",onClick:function(){return y(!g)},children:g?(0,d.jsx)(i.aHS,{size:24}):(0,d.jsx)(i.Fm7,{size:24})}),(0,d.jsx)("h1",{className:"text-xl md:text-2xl font-semibold text-gray-800",children:"Admin Panel"}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"font-semibold text-gray-800",children:null==m?void 0:m.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:null==m?void 0:m.email})]})]}),(0,d.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 md:p-8",children:r})]})]})}},5175:function(){},9898:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(5408),s=r(7294),a=r(5175),i=r(5440),l=r(5893);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){var e,t=(0,a.useAdminData)(),r=t.users,n=t.loading,c=t.error,d=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,c=!1;try{for(a=(r=r.call(e)).next;!(o=(n=a.call(r)).done)&&(l.push(n.value),2!==l.length);o=!0);}catch(e){c=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=d[0],x=d[1],m=function(e){console.log("Deleting user: ".concat(e))},f=function(e,t){console.log("Changing role for user: ".concat(e," to ").concat(t))},h=r.filter(function(e){var t;return((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(u.toLowerCase())||e.email.toLowerCase().includes(u.toLowerCase())});return n?(0,l.jsx)("p",{className:"text-gray-500",children:"Loading users..."}):c?(0,l.jsx)("p",{className:"text-red-500 bg-red-100 p-4 rounded-lg",children:c}):(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm",children:[(0,l.jsx)("div",{className:"p-4 flex justify-between items-center",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(i.jRj,{className:"absolute top-1/2 -translate-y-1/2 left-3 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Search users...",value:u,onChange:function(e){return x(e.target.value)},className:"pl-10 pr-4 py-2 border border-gray-200 rounded-full focus:ring-2 focus:ring-blue-400 focus:outline-none"})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full table-auto",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-50",children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Email"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),(0,l.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-200",children:h.map(function(e){return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name||"N/A"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.email}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,l.jsxs)("select",{value:e.role,onChange:function(t){return f(e.uid,t.target.value)},className:"p-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"customer",children:"Customer"}),(0,l.jsx)("option",{value:"captain",children:"Captain"}),(0,l.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,l.jsx)("button",{onClick:function(){return m(e.uid)},className:"text-red-600 hover:text-red-800",children:(0,l.jsx)(i.Ybf,{size:18})})})]},e.uid)})})]})})]})},d=function(){return(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Users"}),(0,l.jsxs)("button",{className:"flex items-center bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:[(0,l.jsx)(i.OvN,{className:"mr-2"}),"Add User"]})]}),(0,l.jsx)(c,{})]})})}},2257:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return r(9898)}])}},function(e){e.O(0,[3365,6130,4253,2888,9774,179],function(){return e(e.s=2257)}),_N_E=e.O()}]);